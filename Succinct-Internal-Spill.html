<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Succinct.Internal.Spill</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Succinct-Internal-Spill.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Succinct-Internal-Spill.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">succinct-0.1: &quot;Succinct&quot; Data Structures</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(C) 2013-15 Edward Kmett</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Succinct.Internal.Spill</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Mihai P&#462;tra&#351;cu's <a href="Succincter.html">Succincter</a> spill-over representations</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Spill">Spill</a> a b = <a href="#v:Spill">Spill</a> {<ul class="subs"><li><a href="#v:bits">bits</a> :: <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:spill">spill</a> :: <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Word.html#t:Word64">Word64</a></li><li><a href="#v:universe">universe</a> :: <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:encode">encode</a> :: <span class="keyword">forall</span> s. a -&gt; <a href="Succinct-Internal-Word4.html#t:MVector">MVector</a> s <a href="Succinct-Internal-Bit.html#t:Bit">Bit</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Control-Monad-ST.html#t:ST">ST</a> s <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Word.html#t:Word64">Word64</a></li><li><a href="#v:decode">decode</a> :: <a href="Succinct-Internal-Word4.html#t:Vector">Vector</a> <a href="Succinct-Internal-Bit.html#t:Bit">Bit</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Word.html#t:Word64">Word64</a> -&gt; b</li></ul>}</li><li class="src short"><a href="#v:size">size</a> :: <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a b -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:redundancy">redundancy</a> :: <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a b -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/GHC-Exts.html#t:Double">Double</a></li><li class="src short"><a href="#v:integral">integral</a> :: (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Bits.html#t:FiniteBits">FiniteBits</a> a, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Prelude.html#t:Integral">Integral</a> a) =&gt; a -&gt; a -&gt; <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Spill" class="def">Spill</a> a b <a href="src/Succinct-Internal-Spill.html#Spill" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Spill" class="def">Spill</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:bits" class="def">bits</a> :: <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:spill" class="def">spill</a> :: <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Word.html#t:Word64">Word64</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:universe" class="def">universe</a> :: <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Prelude.html#t:Integer">Integer</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:encode" class="def">encode</a> :: <span class="keyword">forall</span> s. a -&gt; <a href="Succinct-Internal-Word4.html#t:MVector">MVector</a> s <a href="Succinct-Internal-Bit.html#t:Bit">Bit</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Control-Monad-ST.html#t:ST">ST</a> s <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Word.html#t:Word64">Word64</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:decode" class="def">decode</a> :: <a href="Succinct-Internal-Word4.html#t:Vector">Vector</a> <a href="Succinct-Internal-Bit.html#t:Bit">Bit</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Word.html#t:Word64">Word64</a> -&gt; b</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Spill" class="caption collapser" onclick="toggleSection('i:Spill')">Instances</p><div id="section.i:Spill" class="show"><table><tr><td class="src">Profunctor <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> <a href="src/Succinct-Internal-Spill.html#line-41" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a) <a href="src/Succinct-Internal-Spill.html#line-39" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:size" class="def">size</a> :: <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a b -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Prelude.html#t:Integer">Integer</a> <a href="src/Succinct-Internal-Spill.html#size" class="link">Source</a></p><div class="doc"><p>enlarged universe size</p></div></div><div class="top"><p class="src"><a name="v:redundancy" class="def">redundancy</a> :: <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a b -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/GHC-Exts.html#t:Double">Double</a> <a href="src/Succinct-Internal-Spill.html#redundancy" class="link">Source</a></p><div class="doc"><p># of bits wasted by the spill-over encoding due to the enlarged universe</p></div></div><div class="top"><p class="src"><a name="v:integral" class="def">integral</a> :: (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Bits.html#t:FiniteBits">FiniteBits</a> a, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Prelude.html#t:Integral">Integral</a> a) =&gt; a -&gt; a -&gt; <a href="Succinct-Internal-Spill.html#t:Spill">Spill</a> a a <a href="src/Succinct-Internal-Spill.html#integral" class="link">Source</a></p><div class="doc"><p>Mihai's &quot;Lemma 3&quot;</p><p><code>integral n r</code> designs a spill-over scheme assuming that</p><pre>0 &lt; r &lt;= n</pre><p>Moreover implementation details assume <code>r &lt; 2^32</code>, so the
 spill <code>K:</code><code>r &lt;= K &lt;= 2*r</code> fits in a <code>Word64</code></p><p>The resulting scheme has bounded redundancy:</p><pre>redundancy n r &lt;= 2/fromIntegral r</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>